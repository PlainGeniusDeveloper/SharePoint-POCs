// custom-ribbon.js
function addCustomRibbonButton() {
    var ribbonContext = SP.Ribbon.WebPartComponentId;
    var ribbonButtonId = "MyCustomButton";
    var ribbonButtonName = "Custom Button";
    var ribbonImageUrl = "/_layouts/15/images/my-icon.png"; // Replace with your icon URL

    // Add the button to the ribbon
    var ribbon = SP.Ribbon.PageManager.get_instance().get_ribbon();
    if (ribbon) {
        var tabId = "Ribbon.ListForm.Edit";
        var tab = ribbon.getChild(tabId);
        if (tab) {
            var group = tab.getChild("Ribbon.ListForm.Edit.Commit.Controls");
            if (group) {
                var button = new CUI.Controls.Button(ribbonContext, ribbonButtonId, ribbonButtonName, "", ribbonImageUrl, ribbonImageUrl, null);
                group.addChild(button);
            }
        }
    }
}

// Call the function when the page loads
SP.SOD.executeOrDelayUntilScriptLoaded(addCustomRibbonButton, "sp.ribbon.js");
