// Global function to initialize CKEditor with dynamic toolbar settings
function initializeEditor(selector, sectionType) {
    let editorConfig = {
        // Define some default configuration (like height, etc.)
        height: 300,
    };

    // Customize toolbar based on section type
    switch (sectionType) {
        case 'banner':
            editorConfig.toolbar = ['bold', 'italic', 'link']; // Toolbar for banner section
            break;
        case 'content':
            editorConfig.toolbar = ['heading', 'bold', 'italic', 'bulletedList', 'numberedList']; // Toolbar for content section
            break;
        case 'summary':
            editorConfig.toolbar = ['bold', 'italic', 'blockQuote']; // Toolbar for summary section
            break;
        default:
            editorConfig.toolbar = ['bold', 'italic']; // Default toolbar for other sections
    }

    // Check if an editor already exists, and destroy it if necessary
    if (ClassicEditor.instances && ClassicEditor.instances[selector]) {
        ClassicEditor.instances[selector].destroy().then(() => {
            delete ClassicEditor.instances[selector];
            // Re-initialize the editor after destroying the old one
            ClassicEditor
                .create(document.querySelector(selector), editorConfig)
                .then(editor => {
                    ClassicEditor.instances[selector] = editor; // Store the instance
                })
                .catch(error => {
                    console.error(error);
                });
        });
    } else {
        // Initialize CKEditor with the selected configuration
        ClassicEditor
            .create(document.querySelector(selector), editorConfig)
            .then(editor => {
                ClassicEditor.instances[selector] = editor; // Store the instance
            })
            .catch(error => {
                console.error(error);
            });
    }
}
